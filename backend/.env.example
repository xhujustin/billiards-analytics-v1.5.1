# ========================================
# 撞球分析系統 - 後端環境配置（v1.5）
# ========================================
# 根據 v1.5 協議規範配置
# Lines starting with # are comments.

# --- Model Settings ---
# Path to the YOLO model weights file (相對於 backend 資料夾)
MODEL_PATH=yolo-weight/pool.pt

# YOLO inference parameters
CONF_THR=0.35
IOU_THR=0.50
IMG_SIZE=640

# --- Image Processing Settings ---
# HSV thresholds for table detection, in "H, S, V" format
HSV_LOWER=60,70,50
HSV_UPPER=86,255,255

# Minimum area for the detected billiard table
TABLE_MIN_AREA=100000

# --- Camera and Streaming Settings ---
CAMERA_WIDTH=1920
CAMERA_HEIGHT=1080
CAMERA_FPS=50

# Quality of the JPEG stream sent to the frontend (0-100)
JPEG_QUALITY=70

# Video source (留空使用攝像頭，或指定影片檔路徑)
VIDEO_SOURCE=

# --- Session Management (v1.5) ---
# Session 有效期（秒）
SESSION_TTL=3600
# Session 自動續期視窗比例（0.2 = 20%）
SESSION_RENEW_WINDOW=0.2
# Session 最小續期視窗（秒）
SESSION_MIN_RENEW_WINDOW=300

# --- WebSocket Settings (v1.5) ---
# Heartbeat 間隔（秒）
WS_HEARTBEAT_INTERVAL=3
# Client heartbeat 超時（秒）
WS_CLIENT_TIMEOUT=15

# --- Stream Settings (v1.5) ---
# MJPEG 流質量
MJPEG_QUALITY=70
# MJPEG 最大幀率
MJPEG_MAX_FPS=30
# 是否串流投影視圖
STREAM_PROJECTOR_VIEW=true
# 影片來源是否循環播放
LOOP_VIDEO_SOURCE=true

# --- Metadata Settings (v1.5) ---
# Metadata 推送頻率（Hz）
METADATA_RATE_HZ=10
# Metadata buffer 大小限制
METADATA_BUFFER_SIZE=100

# --- Feature Flags (v1.5) ---
# 啟用開發者模式
ENABLE_DEV_MODE=false
# 啟用回放功能
ENABLE_REPLAY=false
# 啟用多桌支持
ENABLE_MULTI_TABLE=false
